package novel.api.bytebuf.standard;

import io.netty.buffer.Unpooled;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

import java.nio.charset.Charset;

public class ByteBufPenTest {

	@Test
	void testCharsets() {
		Charset.availableCharsets().values().forEach(this::testCharset);
	}

	private void testCharset(Charset providedCharset) {
		final String testString = "Hi! I should use the provided charset.";
		new ByteBufPen(Unpooled.buffer(), providedCharset){
			@Override
			public ByteBufPen strings(CharSequence charSequence, Charset charset) {
				Assertions.assertEquals(charSequence, testString);
				Assertions.assertEquals(providedCharset, charset);
				return this;
			}
		}.strings(testString);
	}
}
